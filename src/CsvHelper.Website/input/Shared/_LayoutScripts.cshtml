<script>
	(() => {
		document.getElementById("navbar-burger").addEventListener("click", () => {
			document.getElementById("navbar-burger").classList.toggle("is-active");
			document.getElementById("navbar-menu").classList.toggle("is-active");
		});

		const sidebar = document.getElementById("sidebar");
		if (sidebar) {
			const parent = sidebar.parentElement;
			const footer = document.getElementById("footer");

			const resizeSidebarWidth = () => {
				const rect = parent.getBoundingClientRect();
				const style = getComputedStyle(parent);
				const width = rect.width - parseFloat(style.paddingLeft) - parseFloat(style.paddingRight);
				sidebar.style.width = `${width}px`;
			};

			const resizeSidebarHeight = () => {
				const parentRect = parent.getBoundingClientRect();
				const parentStyle = getComputedStyle(parent);
				const footerRect = footer.getBoundingClientRect();
				const bodyRect = document.body.getBoundingClientRect();

				const top = Math.max(parentRect.top + parseFloat(parentStyle.paddingTop), 0);
				const bottom = Math.max(bodyRect.height - footerRect.top, 0);

				sidebar.style.top = `${top}px`;
				sidebar.style.bottom = `${bottom}px`;
			}

			const sidebarResizeObserver = new ResizeObserver(resizeSidebarWidth);
			sidebarResizeObserver.observe(parent);

			window.addEventListener("load", resizeSidebarHeight);
			document.addEventListener("scroll", resizeSidebarHeight);
		}
	})();
</script>
